{% extends "website/base.html" %}

{% block content %}
    <div class="card mt-2 mb-2">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h3 class="d-inline-block">Люди</h3>
            <div>
                <a href="{% url 'person_create' %}"><i class="fa fa-2x fa-plus text-success mr-4" data-toggle="tooltip" data-placement="bottom" title="Добавить"></i></a>
                <a href="{% url 'person_import' %}"><i class="fa fa-2x fa-upload text-info" data-toggle="tooltip" data-placement="bottom" title="Импортировать"></i></a>
                {% if have_imports %}
                    <a href="{% url 'import_list' %}"><i class="fa fa-2x fa-file-alt ml-4 text-warning" data-toggle="tooltip" data-placement="bottom" title="Незавершенные импорты"></i></a>
                {% endif %}
            </div>
        </div>

        {% if person_list %}
        <div class="card-body p-0">
            <table class="table table-hover mb-0">
                <thead>
                    <tr>
                        <th scope="col"></th>
                        <th scope="col">Имя</th>
                        <th scope="col">Родился</th>
                        <th scope="col">Адрес</th>
                        <th scope="col">Часть</th>
                        <th scope="col">Скончался</th>
                    </tr>
                </thead>
                <tbody id="paginated_list">
                    {% include 'website/snippets/person_list_rows.html' with person_list=person_list %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div class="card-body">
            <p class="card-text text-muted">Список пуст</p>
        </div>
        {% endif %}
    </div>
{% endblock %}

{% block script %}
<script>activate_pagination({{ page_obj.number }}, '{% url 'persons' %}', 'paginated_list');</script>
{% endblock %}